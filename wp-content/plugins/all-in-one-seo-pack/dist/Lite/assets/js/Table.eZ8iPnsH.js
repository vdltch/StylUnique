import{n as M}from"./numbers.BT5e8rgb.js";import{C as K,b as G,d as J}from"./Caret.B8YmKvEY.js";import{o as s,c as a,F as m,J as p,a as i,t as d,Q as R,_ as q,k as h,l as v,x as N,G as g,E as A,q as B,S as U,H as j,v as y,C as S,b as r,m as T,j as Q,B as X,$ as L}from"./runtime-dom.esm-bundler.CWn9hmRK.js";import{_ as F}from"./_plugin-vue_export-helper.BN1snXvA.js";import{C as Y}from"./Tooltip.u2Cos2P_.js";import{T as Z}from"./Slide.DwUOEoDg.js";import{_ as O}from"./default-i18n.DXRQgkn2.js";const x={emits:["process-additional-filters","change"],props:{additionalFilters:{type:Array,required:!0},selectedFilters:{type:Object,default(){return{}}}},data(){return{strings:{filter:this.$t.__("Filter",this.$td)}}},mounted(){this.setInitialOptions()},updated(){this.setInitialOptions()},methods:{setInitialOptions(){this.additionalFilters.forEach(t=>{this.selectedFilters[t.name]||(this.selectedFilters[t.name]=t.options[0].value)})}}},$={class:"aioseo-wp-additional-filters alignleft actions"},ee={class:"screen-reader-text"},te=["name","onUpdate:modelValue","onChange"],se=["value"];function le(t,n,e,P,o,u){return s(),a("div",$,[(s(!0),a(m,null,p(e.additionalFilters,(c,k)=>(s(),a(m,{key:k},[i("label",ee,d(c.label),1),R(i("select",{name:c.name,"onUpdate:modelValue":f=>e.selectedFilters[c.name]=f,onChange:f=>t.$emit("change",{name:c.name,selectedValue:f.target.value})},[(s(!0),a(m,null,p(c.options,(f,I)=>(s(),a("option",{key:I,value:f.value},d(f.label),9,se))),128))],40,te),[[q,e.selectedFilters[c.name]]])],64))),128)),i("button",{class:"button action",onClick:n[0]||(n[0]=c=>t.$emit("process-additional-filters",e.selectedFilters))},d(o.strings.filter),1)])}const ae=F(x,[["render",le]]),ne={emits:["process-bulk-action"],props:{bulkOptions:{type:Array,required:!0},disableTable:Boolean},data(){return{bulkAction:"-1",strings:{bulkActions:this.$t.__("Bulk Actions",this.$td),apply:this.$t.__("Apply",this.$td)}}},watch:{bulkOptions(t){t.find(n=>n.value===this.bulkAction)===void 0&&(this.bulkAction="-1")}}},oe={class:"aioseo-wp-bulk-actions alignleft actions bulkactions"},ie=["disabled"],re={value:"-1"},ue=["value"],ce=["disabled"];function de(t,n,e,P,o,u){return s(),a("div",oe,[R(i("select",{"onUpdate:modelValue":n[0]||(n[0]=c=>o.bulkAction=c),disabled:e.disableTable},[i("option",re,d(o.strings.bulkActions),1),(s(!0),a(m,null,p(e.bulkOptions,(c,k)=>(s(),a("option",{key:k,value:c.value},d(c.label),9,ue))),128))],8,ie),[[q,o.bulkAction]]),i("button",{class:"button action",onClick:n[1]||(n[1]=c=>o.bulkAction!=="-1"?t.$emit("process-bulk-action",o.bulkAction):null),disabled:e.disableTable},d(o.strings.apply),9,ce)])}const be=F(ne,[["render",de]]),me={props:{modelValue:Number,disableTable:Boolean},data(){return{items:[5,10,20,25,50,100],itemsPerPage:20,strings:{itemsPerPage:this.$t.__("items per page",this.$td)}}},watch:{itemsPerPage(t){this.$emit("update:modelValue",t)}},mounted(){this.itemsPerPage=this.modelValue}},he={class:"aioseo-wp-items-per-page alignleft"},ge=["disabled"],_e=["value"];function pe(t,n,e,P,o,u){return s(),a("div",he,[i("label",null,[R(i("select",{"onUpdate:modelValue":n[0]||(n[0]=c=>o.itemsPerPage=c),disabled:e.disableTable},[(s(!0),a(m,null,p(o.items,(c,k)=>(s(),a("option",{key:k,value:c},d(c),9,_e))),128))],8,ge),[[q,o.itemsPerPage]]),i("span",null,d(o.strings.itemsPerPage),1)])])}const ke=F(me,[["render",pe]]),fe={emits:["paginate"],props:{totals:{type:Object,required:!0},initialPageNumber:{type:Number,default(){return 1}},disableTable:Boolean},data(){return{numbers:M,pageNumber:1,strings:{of:this.$t.__("of",this.$td),items:this.$t.__("items",this.$td)}}},watch:{initialPageNumber(t){t!==this.pageNumber&&(this.pageNumber=t)}},methods:{toPage(t){this.pageNumber=t,this.$emit("paginate",parseInt(t))}},created(){this.pageNumber=this.initialPageNumber}},ye={class:"tablenav-pages pagination"},ve={class:"displaying-num"},Pe={class:"pagination-links"},we={class:"paging-input"},Te=["max","disabled"],Ne={class:"tablenav-paging-text"};function Ae(t,n,e,P,o,u){return s(),a("div",ye,[i("span",ve,d(o.numbers.numberFormat(e.totals.total))+" "+d(o.strings.items),1),i("span",Pe,[(s(),h(B(o.pageNumber===1?"span":"a"),{href:"#",class:g(o.pageNumber===1?"tablenav-pages-navspan button disabled":"first-page button"),onClick:n[0]||(n[0]=A(c=>o.pageNumber===1?null:u.toPage(1),["prevent"]))},{default:v(()=>[N(" « ")]),_:1},8,["class"])),(s(),h(B(o.pageNumber===1?"span":"a"),{href:"#",class:g(o.pageNumber===1?"tablenav-pages-navspan button disabled":"prev-page button"),onClick:n[1]||(n[1]=A(c=>o.pageNumber===1?null:u.toPage(o.pageNumber-1),["prevent"]))},{default:v(()=>[N(" ‹ ")]),_:1},8,["class"])),i("span",we,[R(i("input",{class:"current-page",type:"number",name:"paged","onUpdate:modelValue":n[2]||(n[2]=c=>o.pageNumber=c),size:"2",min:1,max:e.totals.pages||1,step:1,"aria-describedby":"table-paging",onKeyup:n[3]||(n[3]=j(c=>u.toPage(o.pageNumber),["enter"])),disabled:!e.totals.pages||e.disableTable},null,40,Te),[[U,o.pageNumber]]),i("span",Ne,d(o.strings.of)+" "+d(e.totals.pages||0),1)]),(s(),h(B(o.pageNumber===e.totals.pages||!e.totals.pages?"span":"a"),{href:"#",class:g(o.pageNumber===e.totals.pages||!e.totals.pages?"tablenav-pages-navspan button disabled":"next-page button"),onClick:n[4]||(n[4]=A(c=>o.pageNumber===e.totals.pages||!e.totals.pages?null:u.toPage(o.pageNumber+1),["prevent"]))},{default:v(()=>[N(" › ")]),_:1},8,["class"])),(s(),h(B(o.pageNumber===e.totals.pages||!e.totals.pages?"span":"a"),{href:"#",class:g(o.pageNumber===e.totals.pages||!e.totals.pages?"tablenav-pages-navspan button disabled":"last-page button"),onClick:n[5]||(n[5]=A(c=>o.pageNumber===e.totals.pages||!e.totals.pages?null:u.toPage(e.totals.pages),["prevent"]))},{default:v(()=>[N(" » ")]),_:1},8,["class"]))])])}const Ce=F(fe,[["render",Ae]]),Fe={emits:["sort-column"],components:{CoreTooltip:Y},props:{column:{type:Object,required:!0},disableTable:Boolean,allowTooltipIcon:Boolean}},Be={key:0,class:"aioseo-table-header-tooltip-icon"},Se=i("span",{class:"sorting-indicator"},null,-1);function Re(t,n,e,P,o,u){const c=y("core-tooltip");return s(),a("th",{scope:"col",style:Q({width:e.column.width}),class:g(["aioseo-manage-column manage-column",[{sortable:!e.disableTable&&e.column.sortable,asc:e.column.sortDir==="asc"&&e.column.sortable,desc:e.column.sortDir==="desc"&&e.column.sortable,sorted:e.column.sortable&&e.column.sorted},e.column.slug]])},[e.allowTooltipIcon&&e.column.tooltipIcon?(s(),a("div",Be,[S(c,{class:"action",type:"action"},{tooltip:v(()=>[N(d(e.column.label),1)]),default:v(()=>[(s(),h(B(e.column.tooltipIcon)))]),_:1})])):r("",!0),!e.allowTooltipIcon||!e.column.tooltipIcon?(s(),a(m,{key:1},[e.column.sortable?(s(),a("a",{key:0,href:"#",onClick:n[0]||(n[0]=A(k=>t.$emit("sort-column",e.column,k),["prevent"]))},[i("span",null,d(e.column.label),1),Se])):r("",!0),e.column.sortable?r("",!0):(s(),a(m,{key:1},[t.$slots.headerFooter?T(t.$slots,"headerFooter",{key:0}):r("",!0),t.$slots.headerFooter?r("",!0):(s(),a(m,{key:1},[N(d(e.column.label),1)],64))],64))],64)):r("",!0)],6)}const Ie=F(Fe,[["render",Re]]),V="all-in-one-seo-pack",Oe={emits:["sort-column","process-bulk-action","paginate","search","filter-table","process-change-items-per-page","process-additional-filters","additional-filter-option-selected"],components:{CoreAlert:K,CoreLoader:G,CoreWpAdditionalFilters:ae,CoreWpBulkActions:be,CoreWpItemsPerPage:ke,CoreWpPagination:Ce,CoreWpTableHeaderFooter:Ie,TransitionSlide:Z},props:{columns:{type:Array,required:!0},rows:{type:Array,required:!0},filters:{type:Array,required:!1},totals:{type:Object,required:!1},loading:Boolean,showSearch:{type:Boolean,default(){return!0}},showBulkActions:{type:Boolean,default(){return!0}},showPagination:{type:Boolean,default(){return!0}},showTableFooter:{type:Boolean,default(){return!0}},showHeader:{type:Boolean,default(){return!0}},searchLabel:{type:String,default(){return O("Search",V)}},initialPageNumber:{type:Number,default(){return 1}},initialItemsPerPage:{type:Number,default(){return 20}},initialSearchTerm:{type:String,default(){return""}},noResultsLabel:{type:String},bulkOptions:Array,additionalFilters:Array,selectedFilters:Object,itemsPerPageFilter:String,blurRows:Boolean,disableTable:Boolean,showItemsPerPage:Boolean},data(){return{numbers:M,itemsPerPage:null,searchTerm:"",pageNumber:1,activeRow:null,strings:{items:O("items",V),noResults:O("No items found.",V)}}},watch:{initialPageNumber(t){this.pageNumber=t},pageNumber(t){if(Math.abs(t)!==t){this.pageNumber=Math.floor(t);return}if(this.totals&&t>this.totals.pages){this.pageNumber=this.totals.pages;return}1>t&&(this.pageNumber=1)},itemsPerPage(t,n){n!==null&&this.processChangeItemsPerPage()}},methods:{showFilterCount(t){return Object.prototype.hasOwnProperty.call(t,"count")},editRow(t){if(t===null||this.activeRow===t){this.activeRow=null;return}this.activeRow=t},processSearch(){J(()=>{this.editRow(-1),this.$emit("search",this.searchTerm)},100)},processChangeItemsPerPage(){this.$emit("process-change-items-per-page",this.itemsPerPage)},processBulkAction(t){this.$emit("process-bulk-action",{action:t,selectedRows:this.selectedItems()}),this.editRow(-1),this.resetSelectedItems()},processPaginate(t){this.pageNumber=t,this.editRow(-1),this.$emit("paginate",t,this.searchTerm)},processFilter(t){this.pageNumber=1,this.searchTerm="",this.editRow(-1),this.$emit("filter-table",t)},processAdditionalFilters(t){this.pageNumber=1,this.searchTerm="",this.editRow(-1),this.$emit("process-additional-filters",{filters:t,searchTerm:this.searchTerm,pageNumber:this.pageNumber})},selectedItems(){const t=this.$refs.table.querySelectorAll("tbody tr.main-row"),n=[];return t.forEach(e=>{const P=e.querySelector("th.check-column input");P&&P.checked&&n.push(e.dataset.rowId)}),n},resetSelectedItems(){const t=this.$refs.table.querySelectorAll(".check-column input:checked");t&&t.forEach(n=>n.checked=!1)}},computed:{filteredColumns(){return this.columns.filter(t=>"show"in t?t.show:!0)},noResults(){return this.noResultsLabel||this.strings.noResults}},created(){this.pageNumber=this.initialPageNumber,this.searchTerm=this.initialSearchTerm,this.itemsPerPage=this.initialItemsPerPage}},Ve={class:"aioseo-wp-table"},qe={key:0,class:"aioseo-wp-table-header"},He={key:0,class:"subsubsub"},Le=["onClick"],Me={key:0},Ue={key:0},je={key:0,class:"separator"},We={key:1,class:"search-box"},De=["disabled"],Ee=["value","disabled"],ze={class:"tablenav top"},Ke={key:2,class:"alignleft"},Ge=["onClick","tabindex"],Je=i("br",{class:"clear"},null,-1),Qe={class:"wp-table"},Xe={key:0,class:"manage-column column-cb check-column"},Ye=["disabled"],Ze={key:0,id:"the-list"},xe={key:0,class:"loader-overlay-table"},$e={key:0},et=["colspan"],tt=["data-row-id","data-row-index"],st={key:0,scope:"row",class:"check-column"},lt=["disabled"],at=["colspan"],nt={key:1},ot=["colspan"],it={class:"border"},rt={key:1},ut=["colspan"],ct=["colspan"],dt={class:"no-results"},bt={key:0},mt={key:1},ht={key:0,class:"manage-column column-cb check-column"},gt=["disabled"],_t={key:1,class:"tablenav bottom"},pt=i("div",{class:"alignleft actions"},null,-1),kt=i("br",{class:"clear"},null,-1);function ft(t,n,e,P,o,u){const c=y("core-wp-bulk-actions"),k=y("core-wp-additional-filters"),f=y("core-wp-pagination"),I=y("core-wp-table-header-footer"),W=y("core-loader"),H=y("core-alert"),D=y("transition-slide"),E=y("core-wp-items-per-page");return s(),a("div",Ve,[e.showHeader?(s(),a("div",qe,[t.$slots.filters?r("",!0):(s(),a("ul",He,[(s(!0),a(m,null,p(e.filters,(l,b)=>(s(),a("li",{key:b,class:g(l.slug)},[i("span",{class:g(["name",{active:l.active}])},[!l.active&&!e.disableTable?(s(),a("a",{key:0,href:"#",onClick:A(w=>u.processFilter(l),["prevent"])},[N(d(l.name)+" ",1),u.showFilterCount(l)?(s(),a("span",Me," ("+d(o.numbers.numberFormat(l.count))+")",1)):r("",!0)],8,Le)):r("",!0),l.active||e.disableTable?(s(),a(m,{key:1},[N(d(l.name)+" ",1),u.showFilterCount(l)?(s(),a("span",Ue," ("+d(o.numbers.numberFormat(l.count))+")",1)):r("",!0)],64)):r("",!0)],2),b+1<e.filters.length?(s(),a("span",je,"|")):r("",!0)],2))),128))])),e.showSearch?(s(),a("p",We,[R(i("input",{type:"search",id:"post-search-input",name:"s","onUpdate:modelValue":n[0]||(n[0]=l=>o.searchTerm=l),onKeyup:n[1]||(n[1]=j((...l)=>u.processSearch&&u.processSearch(...l),["enter"])),onSearch:n[2]||(n[2]=(...l)=>u.processSearch&&u.processSearch(...l)),disabled:e.disableTable},null,40,De),[[U,o.searchTerm]]),i("input",{type:"submit",id:"search-submit",class:"button",value:e.searchLabel,onClick:n[3]||(n[3]=A((...l)=>u.processSearch&&u.processSearch(...l),["prevent"])),disabled:e.disableTable},null,8,Ee)])):r("",!0),i("div",ze,[T(t.$slots,"tablenav"),e.showBulkActions&&e.bulkOptions&&e.bulkOptions.length?(s(),h(c,{key:0,"bulk-options":e.bulkOptions,onProcessBulkAction:u.processBulkAction,"disable-table":e.disableTable},null,8,["bulk-options","onProcessBulkAction","disable-table"])):r("",!0),e.additionalFilters&&e.additionalFilters.length?(s(),h(k,{key:1,"additional-filters":e.additionalFilters,"selected-filters":e.selectedFilters,onChange:n[4]||(n[4]=l=>t.$emit("additional-filter-option-selected",l)),onProcessAdditionalFilters:u.processAdditionalFilters},null,8,["additional-filters","selected-filters","onProcessAdditionalFilters"])):r("",!0),t.$slots.filters&&e.filters.length?(s(),a("div",Ke,[(s(!0),a(m,null,p(e.filters,(l,b)=>(s(),a("a",{key:b,onClick:A(w=>u.processFilter(l),["prevent","stop"]),href:"#",tabindex:l.active?-1:0},[T(t.$slots,"filters",X({ref_for:!0},l))],8,Ge))),128))])):r("",!0),e.showPagination?(s(),h(f,{key:3,totals:e.totals,"initial-page-number":o.pageNumber,"disable-table":e.disableTable,onPaginate:u.processPaginate},null,8,["totals","initial-page-number","disable-table","onPaginate"])):r("",!0),Je])])):r("",!0),i("div",Qe,[i("table",{class:g(["wp-list-table widefat fixed",{blurred:e.blurRows}]),ref:"table",cellpadding:"0",cellspacing:"0","aria-label":"Paginated Table"},[i("thead",null,[i("tr",null,[e.showBulkActions?(s(),a("td",Xe,[i("input",{type:"checkbox",disabled:e.loading||e.disableTable},null,8,Ye)])):r("",!0),(s(!0),a(m,null,p(e.columns,(l,b)=>(s(),h(I,{key:b,column:l,"disable-table":e.disableTable,onSortColumn:(w,C)=>t.$emit("sort-column",w,C),"allow-tooltip-icon":""},L({_:2},[t.$slots[l.slug+"HeaderFooter"]?{name:"headerFooter",fn:v(()=>[T(t.$slots,l.slug+"HeaderFooter",{area:"header"})]),key:"0"}:void 0]),1032,["column","disable-table","onSortColumn"]))),128))])]),e.rows?(s(),a("tbody",Ze,[e.loading?(s(),a("div",xe,[S(W)])):r("",!0),(s(!0),a(m,null,p(e.rows,(l,b)=>{var w,C;return s(),a(m,{key:b},[l.alert&&((w=l.alert)==null?void 0:w.position)==="top"?(s(),a("tr",$e,[i("td",{colspan:u.filteredColumns.length+1},[S(H,{type:l.alert.color||"blue",innerHTML:l.alert.description},null,8,["type","innerHTML"])],8,et)])):r("",!0),i("tr",{class:g(["main-row",{even:b%2===0,enabled:l.enabled||!l.hasOwnProperty("enabled")}]),"data-row-id":l.rowIndex&&l[l.rowIndex]||l.id||l.url||b,"data-row-index":b},[e.showBulkActions?(s(),a("th",st,[l.preventBulkAction?r("",!0):(s(),a("input",{key:0,type:"checkbox",disabled:e.disableTable},null,8,lt))])):r("",!0),(s(!0),a(m,null,p(u.filteredColumns,(_,z)=>(s(),a("td",{class:g(["manage-column",_.slug]),key:z,colspan:_!=null&&_.colspan?_.colspan:1},[t.$slots[_.slug]?T(t.$slots,_.slug,{key:0,row:l,column:l[_.slug],editRow:u.editRow,index:b,editRowActive:o.activeRow===b}):r("",!0),t.$slots[_.slug]?r("",!0):(s(),a("span",nt,d(l[_.slug]),1))],10,at))),128))],10,tt),i("tr",{class:g(["edit-row",{even:b%2===0}])},[i("td",{colspan:e.showBulkActions?e.columns.length+1:e.columns.length,class:"edit-row-content"},[S(D,{tag:"div",class:"wrapper",active:b===o.activeRow},{default:v(()=>[i("div",it,[T(t.$slots,"edit-row",{row:l,index:b,editRow:u.editRow})])]),_:2},1032,["active"])],8,ot)],2),l.alert&&((C=l.alert)==null?void 0:C.position)==="bottom"?(s(),a("tr",rt,[i("td",{colspan:u.filteredColumns.length+1},[S(H,{type:l.alert.color||"blue",innerHTML:l.alert.description},null,8,["type","innerHTML"])],8,ut)])):r("",!0)],64)}),128)),e.rows.length?r("",!0):(s(),a("td",{key:1,colspan:e.showBulkActions?e.columns.length+1:e.columns.length},[i("div",dt,[e.loading?r("",!0):(s(),a("span",bt,d(u.noResults),1))])],8,ct))])):r("",!0),e.showTableFooter?(s(),a("tfoot",mt,[i("tr",null,[e.showBulkActions?(s(),a("td",ht,[i("input",{type:"checkbox",disabled:e.loading||e.disableTable},null,8,gt)])):r("",!0),(s(!0),a(m,null,p(e.columns,(l,b)=>(s(),h(I,{key:b,column:l,"disable-table":e.disableTable,onSortColumn:(w,C)=>t.$emit("sort-column",w,C)},L({_:2},[t.$slots[l.slug+"HeaderFooter"]?{name:"headerFooter",fn:v(()=>[T(t.$slots,l.slug+"HeaderFooter",{area:"footer"})]),key:"0"}:void 0]),1032,["column","disable-table","onSortColumn"]))),128))])])):r("",!0)],2),T(t.$slots,"cta")]),e.showTableFooter?(s(),a("div",_t,[e.showBulkActions&&e.bulkOptions&&e.bulkOptions.length?(s(),h(c,{key:0,"bulk-options":e.bulkOptions,onProcessBulkAction:u.processBulkAction,"disable-table":e.disableTable},null,8,["bulk-options","onProcessBulkAction","disable-table"])):r("",!0),e.showItemsPerPage?(s(),h(E,{key:1,modelValue:o.itemsPerPage,"onUpdate:modelValue":n[5]||(n[5]=l=>o.itemsPerPage=l),"disable-table":e.disableTable},null,8,["modelValue","disable-table"])):r("",!0),pt,e.showPagination?(s(),h(f,{key:2,totals:e.totals,"initial-page-number":o.pageNumber,"disable-table":e.disableTable,onPaginate:u.processPaginate},null,8,["totals","initial-page-number","disable-table","onPaginate"])):r("",!0),kt])):r("",!0)])}const Ct=F(Oe,[["render",ft]]);export{Ct as C};
