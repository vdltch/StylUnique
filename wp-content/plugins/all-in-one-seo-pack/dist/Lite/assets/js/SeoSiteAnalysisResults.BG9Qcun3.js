import{T as R}from"./Tags.BU74BX7Y.js";import{S as v}from"./links.w575jfOL.js";import{C as T}from"./GoogleSearchPreview.BT7aiH-w.js";import{a as C,c as I,e as P}from"./Caret.B8YmKvEY.js";import{S as A}from"./Information.DOYCSlH5.js";import{S as L}from"./Gear.BX0imWnw.js";import{T as G}from"./Slide.DwUOEoDg.js";import{_ as B}from"./_plugin-vue_export-helper.BN1snXvA.js";import{v as y,o as s,c as o,a as d,k as h,G as p,q as x,t as _,C as S,b as c,l as b,x as m,F as f,J as w}from"./runtime-dom.esm-bundler.CWn9hmRK.js";const H={components:{SvgCaret:C,SvgCircleCheck:I,SvgCircleClose:P,SvgCircleInformation:A,SvgGear:L,TransitionSlide:G},props:{test:{type:String,required:!0},result:{type:Object,required:!0},showInstructions:Boolean},data(){return{active:!1,loading:!1}},computed:{getIcon(){return this.result.status==="passed"?"svg-circle-check":this.result.status==="error"?"svg-circle-close":this.result.status==="warning"?"svg-gear":"svg-circle-information"},getTestTitle(){return v.personalize=this.showInstructions,v.head(this.test,this.result)},getBody(){return v.personalize=this.showInstructions,v.body(this.test,this.result)}}},O={class:"aioseo-seo-site-analysis-result"},j={class:"result-header"},q={class:"result-icon"},E={class:"result-content"},M={class:"result-body"},U={key:0,class:"result-code"},z=["innerHTML"],V={key:1,class:"result-code-alt"},D=["innerHTML"],F={key:3,class:"result-action"};function J(a,n,t,i,r,e){const k=y("svg-caret"),g=y("base-button"),u=y("transition-slide");return s(),o("div",O,[d("div",j,[d("div",q,[(s(),h(x(e.getIcon),{class:p(t.result.status)},null,8,["class"]))]),d("div",E,_(e.getTestTitle),1),t.showInstructions||e.getBody.code||e.getBody.codeAlt?(s(),o("div",{key:0,class:p(["result-toggle",{active:r.active}]),onClick:n[0]||(n[0]=l=>r.active=!r.active)},[S(k)],2)):c("",!0)]),t.showInstructions||e.getBody.code||e.getBody.codeAlt?(s(),h(u,{key:0,active:r.active},{default:b(()=>[d("div",M,[e.getBody.code?(s(),o("div",U,[d("pre",null,[m("						"),d("code",{innerHTML:e.getBody.code.trim()},null,8,z),m(`
					`)])])):c("",!0),e.getBody.codeAlt?(s(),o("div",V,[d("pre",null,[m("						"),d("code",null,_(e.getBody.codeAlt.trim()),1),m(`
					`)])])):c("",!0),e.getBody.message&&t.showInstructions?(s(),o("div",{key:2,class:"result-message",innerHTML:e.getBody.message},null,8,D)):c("",!0),e.getBody.buttonLink&&t.showInstructions?(s(),o("div",F,[S(g,{href:e.getBody.buttonLink,tag:"a",target:"_blank",type:"blue",size:"medium",loading:r.loading},{default:b(()=>[m(_(e.getBody.buttonText),1)]),_:1},8,["href","loading"])])):c("",!0)])]),_:1},8,["active"])):c("",!0)])}const N=B(H,[["render",J]]),K={components:{CoreGoogleSearchPreview:T,CoreSeoSiteAnalysisResult:N},mixins:[R],props:{section:{type:String,required:!0},allResults:{type:Object,required:!0},showGooglePreview:Boolean,showInstructions:Boolean},data(){return{separator:void 0,searchPreviewHostname:"",searchPreviewUrl:"",strings:{basic:this.$t.__("Basic SEO",this.$td),advanced:this.$t.__("Advanced SEO",this.$td),performance:this.$t.__("Performance",this.$td),security:this.$t.__("Security",this.$td)}}},methods:{filterResults(a){const n={...a};if(Object.keys(n).forEach(i=>{const r=n[i];v.head(i,r)||["keywords","keywordsInTitleDescription","searchPreview","mobileSearchPreview","mobileSnapshot"].includes(i)&&delete n[i]}),this.section==="all-items")return n;const t={passed:"good-results",warning:"recommended-improvements",error:"critical"};return Object.keys(n).forEach(i=>{const r=n[i];t[r.status]!==this.section&&delete n[i]}),n},shouldShowGroup(a){return Object.keys(this.filterResults(this.allResults[a])).length}},mounted(){var t,i;if(!((i=(t=this.allResults)==null?void 0:t.advanced)!=null&&i.searchPreview))return;const a=document.createElement("div");a.innerHTML=this.allResults.advanced.searchPreview;const n=a.querySelector(".domain");if(n){const r=new URL(n.innerText);this.searchPreviewUrl=r.href,this.searchPreviewHostname=r.host}}},Q={class:"aioseo-seo-site-analysis-results"},W={key:1,class:"group-header"},X={key:2,class:"group-header"},Y={key:3,class:"group-header"},Z={key:4,class:"group-header"};function $(a,n,t,i,r,e){const k=y("core-google-search-preview"),g=y("core-seo-site-analysis-result");return s(),o("div",Q,[t.showGooglePreview&&t.section==="all-items"?(s(),h(k,{key:0,hostname:r.searchPreviewHostname,url:r.searchPreviewUrl,title:a.parseTags(t.allResults.basic.title.value),description:a.parseTags(t.allResults.basic.description.value)},null,8,["hostname","url","title","description"])):c("",!0),e.shouldShowGroup("basic")?(s(),o("div",W,_(r.strings.basic),1)):c("",!0),(s(!0),o(f,null,w(e.filterResults(t.allResults.basic),(u,l)=>(s(),h(g,{key:l,test:l,result:u,"show-instructions":t.showInstructions},null,8,["test","result","show-instructions"]))),128)),e.shouldShowGroup("advanced")?(s(),o("div",X,_(r.strings.advanced),1)):c("",!0),(s(!0),o(f,null,w(e.filterResults(t.allResults.advanced),(u,l)=>(s(),h(g,{key:l,test:l,result:u,"show-instructions":t.showInstructions},null,8,["test","result","show-instructions"]))),128)),e.shouldShowGroup("performance")?(s(),o("div",Y,_(r.strings.performance),1)):c("",!0),(s(!0),o(f,null,w(e.filterResults(t.allResults.performance),(u,l)=>(s(),h(g,{key:l,test:l,result:u,"show-instructions":t.showInstructions},null,8,["test","result","show-instructions"]))),128)),e.shouldShowGroup("security")?(s(),o("div",Z,_(r.strings.security),1)):c("",!0),(s(!0),o(f,null,w(e.filterResults(t.allResults.security),(u,l)=>(s(),h(g,{key:l,test:l,result:u,"show-instructions":t.showInstructions},null,8,["test","result","show-instructions"]))),128))])}const ae=B(K,[["render",$]]);export{ae as C};
